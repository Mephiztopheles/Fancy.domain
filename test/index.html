<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <script src="../bower_components/fancy/fancy.min.js"></script>
        <script src="../fancydomain.js"></script>
        <title></title>
    </head>
    <body>

        <script>
            "use strict";
            class Animal {
                constructor( name ) {
                    this.name = name;
                }

                speak() {
                    console.log( this.name + ' makes a noise.' );
                }
            }

            class Dog extends Animal {
                speak() {
                    super.speak();
                    console.log( this.name + ' barks.' );
                }
            }

            var Person = Fancy.domain( {
                lastName : "string",
                firstName: "string"
            }, {
                fullName: function() {
                    return this.firstName + " " + this.lastName;
                }
            } );
            var Child = Fancy.domain( Person, {
                taschengeld: "double"
            }, { taschengeld: { "defaultValue": 5, nullable: true } }, {
                fullName: function( $super ) {
                    return this.firstName;
                }
            } );
            var Baby = Fancy.domain( Child, {
                weight: "number"
            }, { weight: { nullable: false } } );


            var Family = Fancy.domain( {
                name: "string"
            }, {
                hasMany: { "members": Person }
            } );

            var persons = [ new Person( {
                lastName : "Ahrweiler",
                firstName: "Markus"
            } ), new Child( {
                lastName : "Ahrweiler",
                firstName: "Markus"
            } ), new Baby( {
                lastName : "Ahrweiler",
                firstName: "Markus",
                weight   : 300
            } ) ];


            var ahrweilers = Family( { name: "Ahrweiler" } );
            ahrweilers.members.push( "lol" );

        </script>
    </body>
</html>